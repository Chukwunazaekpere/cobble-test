{"ast":null,"code":"import _objectSpread from\"/home/chukwunazaekpere/Documents/Fullstack/javascript/NodeJS/cobble/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/chukwunazaekpere/Documents/Fullstack/javascript/NodeJS/cobble/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch}from'react-redux';import{formDataAction,toggleConfirmAction,toggleModalAction}from'../redux/actions/appActions';import\"../styles/ModalStyles.css\";import{inputs}from'../validators';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Modal=function Modal(props){console.log(\"\\n\\t Modal...\");var dispatch=useDispatch();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),errorMessage=_useState2[0],setErrorMessage=_useState2[1];var _useState3=useState({\"Accomodation Status\":'',\"Rent Amount\":0,\"Monthly Income\":0,\"Payment Plan\":\"\"}),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var accStat=[\"Select accomodation status\",\"Rent renewal\",\"Searching\",\"Ready to pay for a new place\"];var paymentPlan=[\"Select payment plan\",\"1\",\"2\",\"3\",\"6\",\"12\"];var placeholders=[\"What's your accomodation status?\",\"How much are you requesting for your rent?\",\"What's your monthly income?\",\"Choose a payment plan (in months)\"];var actionBtns=[\"Preview\",\"Cancel\"];var fieldTypes=['select','input','input','select'];var helpText=[\"\",\"\",\"\",\"This is the frequency of re-payment.\"];var handleInputChange=function handleInputChange(field,value){console.log(\"\\n\\t formData: \",field,value);var newData=formData;newData[field]=value;setFormData(_objectSpread({},newData));setErrorMessage(\"\");};var previewFormData=function previewFormData(){var report=inputs(Object.keys(formData),Object.values(formData));if(report)return setErrorMessage(report);dispatch(formDataAction(formData));dispatch(toggleModalAction(false));dispatch(toggleConfirmAction(true));};useEffect(function(){props.formData&&setFormData({\"Accomodation Status\":props.formData[\"Accomodation Status\"],\"Monthly Income\":props.formData[\"Monthly Income\"],\"Payment Plan\":props.formData[\"Payment Plan\"],\"Rent Amount\":props.formData[\"Rent Amount\"]});},[props.formData]);console.log(\"\\n\\t props.formData: \",formData&&formData);return/*#__PURE__*/_jsx(\"div\",{className:\"modal d-flex justify-content-center align-items-center ml-5 animate__animated animate__bounce\",role:\"dialog\",id:\"modal\",tabIndex:-1,children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",role:\"\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-teal-500 text-2xl font-serif\",children:\"Fill in the required details below\"}),\" \",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"modal-body\",children:[errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"text-2md text-center font-weight-bold text-red-700 font-serif my-3\",children:errorMessage}),Object.keys(formData).map(function(name,index){return/*#__PURE__*/_jsx(\"section\",{children:fieldTypes[index]===\"select\"?/*#__PURE__*/_jsxs(\"article\",{className:\"form-select form-group \",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"font-serif text-sm align-start d-flex\",htmlFor:\"\",children:[placeholders[index],\":\"]}),/*#__PURE__*/_jsx(\"select\",{onChange:function onChange(e){return handleInputChange(name,e.target.value);},className:\"font-serif form-control\",name:\"\",id:\"\",children:name.toLowerCase().includes('payment')?paymentPlan.map(function(item){return/*#__PURE__*/_jsx(\"option\",{className:\"font-serif\",value:item.toLowerCase().includes(\"select\")?\"\":item,children:item},item);}):accStat.map(function(item){return/*#__PURE__*/_jsx(\"option\",{className:\"font-serif\",value:item.toLowerCase().includes(\"select\")?\"\":item,children:item},item);})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-serif text-orange-700 text-sm font-weight-bold\",children:helpText[index]})]}):/*#__PURE__*/_jsxs(\"article\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"font-serif text-sm align-start d-flex\",htmlFor:\"\",children:[placeholders[index],\":\"]}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return handleInputChange(name,e.target.value);},type:\"number\",min:1,placeholder:\"Enter \".concat(name),className:\"font-serif form-control\",defaultValue:formData&&(name.toLowerCase().includes('income')||name.toLowerCase().includes('amount'))?\"\":formData[name]}),/*#__PURE__*/_jsx(\"span\",{className:\"font-serif text-orange-700 font-weight-bold\",children:helpText[index]})]})},name);})]}),/*#__PURE__*/_jsx(\"section\",{className:\"modal-footer\",children:actionBtns.map(function(btns){return/*#__PURE__*/_jsx(\"button\",{\"data-target\":\"#modal\",\"data-toggle\":\"modal\",onClick:function onClick(){return previewFormData();},\"data-dismiss\":\"\".concat(btns.toLowerCase()==='cancel'?'modal':undefined),className:\"font-serif btn \".concat(btns.toLowerCase()==='cancel'?'btn-secondary':'btn-info',\" text-white\"),children:btns},btns);})})]})})});};export default Modal;","map":{"version":3,"sources":["/home/chukwunazaekpere/Documents/Fullstack/javascript/NodeJS/cobble/frontend/src/components/Modal.tsx"],"names":["React","useEffect","useState","useDispatch","formDataAction","toggleConfirmAction","toggleModalAction","inputs","Modal","props","console","log","dispatch","errorMessage","setErrorMessage","formData","setFormData","accStat","paymentPlan","placeholders","actionBtns","fieldTypes","helpText","handleInputChange","field","value","newData","previewFormData","report","Object","keys","values","map","name","index","e","target","toLowerCase","includes","item","btns","undefined"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { formDataAction, toggleConfirmAction, toggleModalAction } from '../redux/actions/appActions';\nimport \"../styles/ModalStyles.css\"\nimport { inputs } from '../validators';\n\n\ninterface Props {\n    formData: any\n}\n\nexport interface FormDataInterface {\n    \"Accomodation Status\": string, \n    \"Rent Amount\": number , \n    \"Monthly Income\": number, \n    \"Payment Plan\": string | number\n    [key: string]: string | number\n}\n\nconst Modal = (props: Props) => {\n    console.log(\"\\n\\t Modal...\")\n    const dispatch = useDispatch();\n\n    const [errorMessage, setErrorMessage] = useState(\"\")\n    const [formData, setFormData] = useState<FormDataInterface>({\n        \"Accomodation Status\": '', \n        \"Rent Amount\": 0, \n        \"Monthly Income\": 0, \n        \"Payment Plan\": \"\"\n    })\n  \n    const accStat = [\"Select accomodation status\", \"Rent renewal\", \"Searching\", \"Ready to pay for a new place\"]\n    const paymentPlan = [\"Select payment plan\", \"1\", \"2\", \"3\", \"6\", \"12\"]\n    const placeholders = [\"What's your accomodation status?\", \"How much are you requesting for your rent?\", \"What's your monthly income?\", \"Choose a payment plan (in months)\"];\n    const actionBtns = [\"Preview\", \"Cancel\"];\n    const fieldTypes = ['select', 'input', 'input', 'select'];\n    const helpText = [\"\", \"\", \"\", \"This is the frequency of re-payment.\"]\n    const handleInputChange = (field: string, value: string | number) => {\n        console.log(\"\\n\\t formData: \", field, value)\n        const newData = formData;\n        newData[field] = value;\n        setFormData({\n            ...newData\n        });\n        setErrorMessage(\"\")\n    };\n    const previewFormData = () => {\n        const report = inputs(Object.keys(formData), Object.values(formData))\n        if(report) return setErrorMessage(report);\n        dispatch(formDataAction(formData))\n        dispatch(toggleModalAction(false));\n        dispatch(toggleConfirmAction(true))\n    };\n    useEffect(() => {\n        props.formData && setFormData({\n            \"Accomodation Status\": props.formData[\"Accomodation Status\"],\n            \"Monthly Income\": props.formData[\"Monthly Income\"] as number,\n            \"Payment Plan\": props.formData[\"Payment Plan\"],\n            \"Rent Amount\": props.formData[\"Rent Amount\"]as number\n        })\n    }, [props.formData])\n    console.log(\"\\n\\t props.formData: \", formData && formData)\n    return (\n        <div className=\"modal d-flex justify-content-center align-items-center ml-5 animate__animated animate__bounce\"  role=\"dialog\" id=\"modal\" tabIndex={-1}>\n            \n            <div className=\"modal-dialog\" role=\"\">\n                <div className=\"modal-content\">\n                    <section className=\"modal-header\">\n                        <span className=\"text-teal-500 text-2xl font-serif\">Fill in the required details below</span> <br />\n                    </section>\n                    <section className=\"modal-body\">\n                        {\n                            errorMessage &&\n                            <p className=\"text-2md text-center font-weight-bold text-red-700 font-serif my-3\">{errorMessage}</p>\n                        }\n                        {\n                            Object.keys(formData).map((name, index) => (\n                                <section key={name}>\n                                    {\n                                        fieldTypes[index] === \"select\" ?\n                                            <article className=\"form-select form-group \">\n                                                <label className=\"font-serif text-sm align-start d-flex\" htmlFor=\"\">{placeholders[index]}:</label>\n                                                <select \n                                                    onChange={e => handleInputChange(name, e.target.value)}\n                                                    className=\"font-serif form-control\" name=\"\" id=\"\">\n                                                    {\n                                                        name.toLowerCase().includes('payment') ?\n                                                        paymentPlan.map(item => (\n                                                            <option  className=\"font-serif\" key={item} value={item.toLowerCase().includes(\"select\") ? \"\" : item}>{item}</option>\n                                                        ))\n                                                        :\n                                                        accStat.map(item => (\n                                                            <option className=\"font-serif\" key={item} value={item.toLowerCase().includes(\"select\") ? \"\" : item}>{item}</option>\n                                                        ))\n                                                    }\n                                                </select>\n                                                <span className=\"font-serif text-orange-700 text-sm font-weight-bold\">{helpText[index]}</span>\n                                            </article>\n                                            :\n                                            <article className=\"form-group\">\n                                                <label className=\"font-serif text-sm align-start d-flex\" htmlFor=\"\">{placeholders[index]}:</label>\n                                                <input \n                                                    onChange={e => handleInputChange(name, e.target.value)}\n                                                    type=\"number\" \n                                                    min={1} \n                                                    placeholder={`Enter ${name}`} \n                                                    className=\"font-serif form-control\" \n                                                    defaultValue={formData && (name.toLowerCase().includes('income') || name.toLowerCase().includes('amount')) ? \"\" : formData[name]}\n                                                />\n                                                <span className=\"font-serif text-orange-700 font-weight-bold\">{helpText[index]}</span>\n                                            </article>\n                                    }\n                                </section>\n                            ))\n                        }\n                    </section>\n                    <section className=\"modal-footer\">\n                        {\n                            actionBtns.map(btns => (\n                                <button \n                                    key={btns} \n                                    data-target=\"#modal\"\n                                    data-toggle=\"modal\"\n                                    onClick={() => previewFormData()}\n                                    data-dismiss={`${btns.toLowerCase() === 'cancel' ? 'modal' : undefined }`}\n                                    className={`font-serif btn ${btns.toLowerCase() === 'cancel' ? 'btn-secondary' : 'btn-info'} text-white`}>\n                                    {btns}\n                                </button>\n                            ))\n                        }\n                    </section>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Modal;\n\n\n"]},"metadata":{},"sourceType":"module"}